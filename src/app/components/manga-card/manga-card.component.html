<a
  [routerLink]="['/manga', manga.id, mangaSlug]"
  class="group block bg-surface-elevated rounded-xl overflow-hidden transition-all duration-250 hover:shadow-xl hover:scale-[1.02] hover:bg-surface-hover border border-border hover:border-border-hover"
>
  <!-- Cover Image -->
  <div class="relative aspect-[3/4] overflow-hidden bg-surface">
    <img
      [src]="coverImageSrc"
      [alt]="manga.title"
      class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
      loading="lazy"
      crossorigin="anonymous"
      onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22300%22 height=%22400%22%3E%3Crect width=%22300%22 height=%22400%22 fill=%22%23333%22/%3E%3Ctext x=%2250%25%22 y=%2250%25%22 dominant-baseline=%22middle%22 text-anchor=%22middle%22 fill=%22%23666%22 font-size=%2220%22%3ENo Image%3C/text%3E%3C/svg%3E'"
    />
    
    <!-- Status Badge -->
    <div class="absolute top-3 right-3">
      <span 
        class="px-2 py-1 text-xs font-medium rounded-md backdrop-blur-sm"
        [ngClass]="{
          'bg-green-500/90 text-white': manga.status === 'ongoing',
          'bg-blue-500/90 text-white': manga.status === 'completed',
          'bg-yellow-500/90 text-white': manga.status === 'hiatus',
          'bg-red-500/90 text-white': manga.status === 'cancelled'
        }"
      >
        {{ manga.status }}
      </span>
    </div>
  </div>

  <!-- Content -->
  <div class="p-4 space-y-2">
    <!-- Title -->
    <h3 class="font-semibold text-lg text-text-primary line-clamp-2 group-hover:text-primary transition-colors duration-200">
      {{ manga.title }}
    </h3>

    <!-- Year -->
    <p class="text-sm text-text-tertiary">
      {{ manga.year }}
    </p>

    <!-- Description -->
    <p class="text-sm text-text-secondary line-clamp-3">
      {{ truncatedDescription }}
    </p>

    <!-- Tags -->
    <div *ngIf="manga.tags && manga.tags.length > 0" class="flex flex-wrap gap-1.5 pt-1">
      <span
        *ngFor="let tag of displayTags"
        class="px-2 py-0.5 text-xs bg-primary/10 text-primary rounded-md border border-primary/20"
      >
        {{ tag }}
      </span>
      <span
        *ngIf="remainingTagsCount > 0"
        class="px-2 py-0.5 text-xs text-text-tertiary"
      >
        +{{ remainingTagsCount }}
      </span>
    </div>
  </div>
</a>
